<html>
<head>
<style>
body {
  background-color: #464343;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
}

.center {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translateX(-50%) translateY(-50%);
}

.square-large {
  width: 200px;
  height: 300px;
  border: 2px solid #BFBFBF;
  position: relative;
}

.line {
  width: 0;
  height: 16px;
  float: left;
  border: none;
  background: #ffffff;
  position: absolute;
  top: 50%;
  left: 20px;
  right: auto;
}
</style>
</head>

<body>

<div class="center">
  <div class="square-large">
    <div class="line el"></div>
  </div>
</div>
<script>
var changeEl = $(".el");
var trimLine = anime.timeline({
  loop: true
});

trimLine
  .add({
    targets: ".el",
    width: [0, 160],
    duration: 800,
    easing: "easeOutQuart",
    delay: 50
  })
  .add({
    targets: ".el",
    width: [160, 160],
    easing: "linear",
    duration: 800
  })
  .add({
    targets: ".el",
    width: [160, 0],
    duration: 800,
    easing: "easeOutQuart",
    delay: 50
  })
  .add({
    targets: ".el",
    width: [0, 0],
    easing: "linear",
    duration: 800
  });

trimLine.update = function(anim)
 {
  if (anim.currentTime < 2500 && anim.currentTime > 850) {
    changeEl.css({ float: "right", left: "auto", right: "20px" });
  }

  if (anim.currentTime > 2500)
   {
    changeEl.css({ float: "left", left: "20px", right: "auto" });
  }
};
</script>
</body>
</html>
